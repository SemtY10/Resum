<!-- templates/resumes/edit_personal_info.html -->
{% extends 'base.html' %}

{% block title %}–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è - Resume Builder{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h2 class="mb-0">üë§ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</h2>
                <small>–†–µ–∑—é–º–µ: {{ resume.title }}</small>
            </div>
            <div class="card-body">
                <form method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    
                    <!-- –ü–æ–≤–Ω–µ —ñ–º'—è -->
                    <div class="mb-3">
                        <label class="form-label fw-bold">–ü–æ–≤–Ω–µ —ñ–º'—è *</label>
                        {{ form.full_name }}
                        {% if form.full_name.errors %}
                            <div class="text-danger small">{{ form.full_name.errors }}</div>
                        {% endif %}
                    </div>
                    
                    <!-- –ü–æ—Å–∞–¥–∞ -->
                    <div class="mb-3">
                        <label class="form-label fw-bold">–ü–æ—Å–∞–¥–∞ *</label>
                        {{ form.job_title }}
                        {% if form.job_title.errors %}
                            <div class="text-danger small">{{ form.job_title.errors }}</div>
                        {% endif %}
                        <div class="form-text">–ù–∞–ø—Ä–∏–∫–ª–∞–¥: "Python Developer", "Marketing Manager"</div>
                    </div>
                    
                    <!-- –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è -->
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label fw-bold">Email *</label>
                                {{ form.email }}
                                {% if form.email.errors %}
                                    <div class="text-danger small">{{ form.email.errors }}</div>
                                {% endif %}
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label fw-bold">–¢–µ–ª–µ—Ñ–æ–Ω *</label>
                                {{ form.phone }}
                                {% if form.phone.errors %}
                                    <div class="text-danger small">{{ form.phone.errors }}</div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    
                    <!-- –ê–¥—Ä–µ—Å–∞ -->
                    <div class="mb-3">
                        <label class="form-label fw-bold">–ê–¥—Ä–µ—Å–∞</label>
                        {{ form.address }}
                        {% if form.address.errors %}
                            <div class="text-danger small">{{ form.address.errors }}</div>
                        {% endif %}
                        <div class="form-text">–ú—ñ—Å—Ç–æ, –∫—Ä–∞—ó–Ω–∞</div>
                    </div>
                    
                    <!-- –ü—Ä–æ —Å–µ–±–µ -->
                    <div class="mb-4">
                        <label class="form-label fw-bold">–ü—Ä–æ —Å–µ–±–µ *</label>
                        {{ form.summary }}
                        {% if form.summary.errors %}
                            <div class="text-danger small">{{ form.summary.errors }}</div>
                        {% endif %}
                        <div class="form-text">–†–æ–∑–∫–∞–∂—ñ—Ç—å –∫–æ—Ä–æ—Ç–∫–æ –ø—Ä–æ —Å–µ–±–µ, –≤–∞—à—ñ —Ü—ñ–ª—ñ —Ç–∞ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è (3-5 —Ä–µ—á–µ–Ω—å)</div>
                    </div>

                    <div class="mb-3">
                        <label class="form-label fw-bold">–§–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—è</label>
                        {{ form.photo }}
                        {% if form.photo.errors %}
                            <div class="text-danger small">{{ form.photo.errors }}</div>
                        {% endif %}
                        <div class="form-text">
                            –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –≤–∞—à–µ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–µ —Ñ–æ—Ç–æ (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ: 200x200px)
                        </div>
                        
                        {% if personal_info and personal_info.photo %}
                        <div class="mt-2">
                            <strong>–ü–æ—Ç–æ—á–Ω–µ —Ñ–æ—Ç–æ:</strong><br>
                            <img src="{{ personal_info.photo.url }}" alt="Current photo" 
                                 class="img-thumbnail mt-2" style="max-width: 150px;">
                        </div>
                        {% endif %}
                    </div>

                    <!-- –ö–Ω–æ–ø–∫–∏ -->
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <a href="{% url 'dashboard' %}" class="btn btn-secondary me-md-2">‚Ü©Ô∏è –ù–∞–∑–∞–¥</a>
                        <button type="submit" class="btn btn-success">üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}